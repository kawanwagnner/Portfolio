<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio: Kawan Wnn.</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>

<body>
    <header>
        <div class="container-navbar">
            <h1 id="logo"><a href="index.html">Portfo<span class="color-world">lio</span></a></h1>
            <nav id="navbar">
                <ul class="list_navbar">
                    <li><a href="sobremim.html">Sobre Mim</a></li>
                    <li><a href="projetos.html">Projetos</a></li>
                    <li><a href="habilidades.html">Habilidades</a></li>
                    <li><a href="contatos.html">Contatos</a></li>
                    <li><a class="subscribe" href="https://www.youtube.com/channel/UCgQk62HqpCR1lFV37k3yOaw"
                            target="_blank">Inscreva-se</a></li>
                </ul>
            </nav>
            <button id="btn-menu"><i class="fa-solid fa-bars"></i></button>
        </div>
    </header>
    <main>
        <section class="container_application">
            <div id="container-text-iam">
                <img class="kawan-500" src="imagens/kawan-500px.png" alt=" Foto do Kawan Wagnner">
                <h4>Olá! Meu nome é</h4>
                <h1 id="titulo">Kawan <span class="color-world">Wagnner</span>
                    <h3>Eu sou um Dev-Front End Jr.</h3>
                    <div class="form_submit_email">
                        <form id="formSubmit">
                            <input 
                                type="email"
                                required
                                placeholder="Email..."
                                id="email_user"
                            >
                            <button type="submit" id="submitData">Enviar</button>
                        </form>
                    </div>
            </div>
            <div id="container-icons">
                <a href="https://github.com/kawanwagnner" target="_blank"><i class="fa-brands fa-github"></i></a>
                <a href="mailto:kawanwagnner.gs@gmail.com" target="_blank"><i
                        class="fa-solid fa-envelope-open-text"></i></a>
                <a href="https://api.whatsapp.com/send?phone=5511939060203&text=Ol%C3%A1!%20Tudo%20bem%3F"
                    target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
            </div>
        </section>

    </main>
</body>
<script src="menuMobile.js"></script>
<script src="src/js/submitEmail.js"></script>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
    import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDCocU-Eh1JmzmYSh3_Fc-tInCWReAaNho",
        authDomain: "portfolio-email-856f3.firebaseapp.com",
        databaseURL: "https://portfolio-email-856f3-default-rtdb.firebaseio.com",
        projectId: "portfolio-email-856f3",
        storageBucket: "portfolio-email-856f3.appspot.com",
        messagingSenderId: "464504513405",
        appId: "1:464504513405:web:fc6410b4b7f4111de06214",
        measurementId: "G-MLCN37NWP7"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);


    document.getElementById('formSubmit')
        .addEventListener('submit', async (e) => {
            e.preventDefault();

            // get email
            const emailUser = document.getElementById('email_user').value;

            try {
                const docRef = await addDoc(collection(db, "email"), {
                    email: emailUser, 
                    id: Math.random()
                });

                document.getElementById('formSubmit').reset();
                console.log("Document written with ID: ", docRef.id);
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        })

</script>

</html>